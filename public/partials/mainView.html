<div id="container_view" class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3">
    <div ng-show="error" class="error_container alert alert-warning">
        <!-- if error on fetching data from api -->
        <p id="error_message">{{error}} {{latestUpdate | date:'yyyy-MM-dd HH:mm:ss'}}</p>
    </div>
    
    <div id ="online_container">
        <!-- category buttons -->
        <div class="button_container">
            <button id="all_button" class="cat_button" data-ng-click='showAllMarkers()'>Alla</button>
            <button id="road_button" class ="cat_button" data-ng-click='showRoadTraffic()'>Vägtrafik</button>
            <button id="planned_button" class ="cat_button" data-ng-click="showPlannedTraffic()">Planerad störning</button>
            <button id="public_button" class ="cat_button" data-ng-click='showPublicTraffic()'>Kollektivtrafik</button>
            <button id="other_button" class ="cat_button" data-ng-click="showOtherTraffic()">Övrigt</button>
        </div>
        
        <!-- explanation of map marker colors -->
        <div id="explanation_container">
            <li><img class="marker_image" src="images/red.png"><p>Mycket allvarlig händelse</p></li>
            <li><img class="marker_image" src="images/orange.png"><p>Stor händelse</p></li>
            <li><img class="marker_image" src="images/violet.png"><p>Störning</p></li>
            <li><img class="marker_image" src="images/yellow.png"><p>Information</p></li>
            <li><img class="marker_image" src="images/green.png"><p>Mindre störning</p></li>
        </div>
        
        <!-- If category has no information-->
        <div id="message_container" ng-show="message">
            <p id="message_text">Finns inga trafikmeddelanden under vald kategori</p>
        </div>
        
        <!-- map -->
        <div id="map_container">
            <div id="map"></div>
            <!-- list of trafficmessages -->
                <div id="traffic_info_container">
                    <ul id="traffic_info_list">
                        <!-- prefix - before 'createddate gives descending order -->
                        <li class="traffic_info_row" data-ng-click='showPopup(item)' data-ng-repeat="item in trafficInfoList | orderBy:['-createddate', 'title']" >
                            <div class="row_header">
                                <p class="row_title">{{item.title}}</p>
                                <p class="row_title" ng-bind-html="item.exactlocation"></p>
                            </div>
                            <p class="row_category">{{item.subcategory}}</p>
                        </li>
                     </ul>
                    <!-- tribute to data supplier -->
                    <p id="sr_text">Trafikinformation hämtad från Sveriges Radios trafiktjänst</p> 
            </div>
        </div>
    </div>
</div>
